# 手机端 APP 界面设计规范 (Mobile UI Design Spec)

本文档基于 V1.0 设计稿编写，用于指导移动端 APP (Android/iOS) 的界面开发。

---

## 1. 总体布局结构 (Layout Structure)

APP 采用 **沉浸式背景 + 底部浮动面板** 的设计架构。

### 1.1 顶部驾舱视窗 (Header View)
*   **背景**: 高清车辆内饰实拍图，展示氛围灯在车内的实际效果位置。
*   **功能浮窗**:
    *   **右下角悬浮按钮组**:
        1.  `[🔗 已连接]` (状态/连接):用于跳转蓝牙扫描页或显示连接状态。白色背景，蓝色图标/文字。
        2.  `[⚙️ 关于]` (设置):用于跳转设置页或关于页。白色背景，蓝色图标/文字。
    *   **(可选) 左下角操作**: 搜索/编辑图标 (视具体需求定)。

### 1.2 底部控制面板 (Bottom Control Sheet)
*   **形态**: 圆角卡片式设计 (Top-Left & Top-Right Radius: 24px)，从底部向上滑出或固定覆盖在背景下半部分。
*   **背景色**: 纯白 (`#FFFFFF`)。
*   **导航栏**: 位于面板顶部，包含三个胶囊式 Tab。
    *   [单色] [多色] [律动]
    *   选中态: 蓝色背景 (`#2196F3`), 白色文字。
    *   未选态: 浅灰背景, 黑色/深灰文字。

---

## 2. 功能模块详解 (Function Cards)

### 2.1 单色模式 (Single Color Mode)
*   **标题**: "RGB模式控制"
*   **颜色调节区域**:
    *   **UI组件**: 横向线性渐变色条 (Spectrum Bar)。
    *   **交互**: 支持在色条上点击或拖动滑块选择颜色。
*   **常用颜色**:
    *   **显示**: 圆形色块列表 (红色、绿色、蓝色等)。
    *   **操作**: 右侧提供 "添加" 和 "编辑" 文本按钮。

### 2.2 多色模式 (Multi Color Mode)
*   **标题**: "RGB模式控制"
*   **模式控制**:
    *   **RGB模式**: 左侧标签。
    *   **动态开关**: 右侧 Toggle Switch (开关)，开启后进入动态流光模式。
*   **主题选择网格**:
    *   **布局**: 4列网格布局。
    *   **内容**: 预设主题按钮 (如: "湖山晴雨", "曲院风荷", "西山晴雪" 等)。
    *   **选中态**: 深色背景/图片背景 或 高亮边框 (设计稿显示 "湖山晴雨" 选中时为深色胶囊)。
*   **效果预览**:
    *   **展示**: 如果选中动态主题，下方展示一张大的动态效果示意图 (Banner)，如蓝色流光线条。

### 2.3 律动模式 (Rhythm Mode)
*   **模式调节**:
    *   **律动**: 右侧 Toggle Switch 或者 状态指示。设计稿显示 "模式调节" 行右侧有 "律动" 开关/指示。
*   **灯光切换效果**:
    *   **操作**: 右侧 "编辑" 按钮。
*   **效果选择网格**:
    *   **布局**: 4列网格。
    *   **内容**: "模式1", "模式2", "模式3" ... "模式8"。
    *   **选中态**: 绿色高亮胶囊背景 (如 "模式2")。
*   **效果预览**:
    *   展示对应的绿色波形或粒子动效示意图。

---

## 3. 通用设置区域 (Common Settings)

该区域固定在控制面板的最底部 (或随滚动可见)，适用于所有模式。

### 3.1 亮度设置 (Brightness)
*   **区域亮度开关**:
    *   左侧标签: "亮度调节"。
    *   右侧操作: "区域亮度" 开关 (Toggle Switch)。开启后可能展开分区域滑块 (参考桌面端逻辑)。
*   **主亮度滑块**:
    *   **标签**: "统一 10" (显示当前数值)。
    *   **组件**: 蓝色进度条滑块 (Slider)。
*   **开关控制**:
    *   **类型**: 单选按钮组 (Radio Group)。
    *   **选项**:
        *   ⭕ 关闭
        *   ⭕ 开启
        *   ⭕ 根据车灯 (Auto)
    *   **选中态**: 圆心实心蓝点。

---

## 4. UI 细节参数参考
*   **主色调**: 科技蓝 (`#2196F3` / HSL对应值)
*   **高亮色**: 律动模式使用 科技绿 (`#4CAF50`)
*   **卡片圆角**: 24px (面板顶部), 12px (内部按钮)
*   **字体**: 系统默认无衬线字体 (PingFang SC / Roboto)

---

## 5. 关于页面 (About Page)

*   **导航栏**:
    *   左侧: 返回箭头 `<`。
    *   标题: "关于" (About)。

### 5.1 品牌展示区 (Branding)
*   **大卡片**: 位于页面顶部，全宽蓝色背景 (`#2196F3`)。
*   **内容**:
    *   中心显示白色 Logo 图标 (三角形徽标)。
    *   下方文字 "CKCP"。

### 5.2 控制器资料 (Controller Info)
*   **标题**: "控制器资料" (小字标题)。
*   **信息卡片**:
    *   圆角白色卡片，包含列表项。
    *   **车型 (Car Model)**: 右侧显示 ID (如 `V.ID=59`)。
    *   **设备地址 (MAC Address)**: 右侧显示地址 (如 `D4:D4:DA:E1:A8:62`)。
    *   **固件版本 (Firmware)**: 右侧显示版本号 (如 `5.25.01226`)。
    *   **硬件版本 (Hardware)**: 右侧显示版本号 (如 `C_AMBL04`)。
*   **入口项**:
    *   **工厂模式**: 位于下方单独或底部的列表项，带右向箭头 `>`，点击进入工厂模式。

### 5.3 底部操作 (Footer Action)
*   **按钮**: "解除设备" (Unbind Device)。
*   **样式**: 底部悬浮或固定，大圆角蓝色按钮，白色文字。

---

## 6. 工厂模式页面 (Factory Mode Page)

*   **布局**: 垂直滚动列表，每个功能模块为独立的白色圆角卡片。
*   **导航栏**: 标题 "工厂模式"。

### 6.1 售后注册 (After-sales Registration)
*   **车辆(VIN码)**:
    *   输入框: "请输入" (Placeholder)。
    *   操作: 右侧蓝色 "注册" 按钮 (小型圆角)。
*   **交互逻辑**:
    *   **校验**: 点击注册时，校验输入是否为 **17位** 字符。
    *   **反馈**:
        *   成功: Toast 提示 "注册成功"。
        *   失败: Toast 提示 "VIN码长度错误" (若不足17位)。
    *   **格式**: 自动大写转换 (TextCapitalization.characters)。

### 6.2 编码 (Coding)
*   **车型编号**:
    *   输入框: "请输入"。
    *   操作: 右侧蓝色 "发送" 按钮。
*   **功能编号**:
    *   输入框: "请输入"。
    *   操作: 右侧蓝色 "发送" 按钮。
*   **交互逻辑**:
    *   **校验**: 输入值必须在 **0-255** 之间。
    *   **反馈**:
        *   成功: Toast 提示 "设置成功"。
        *   失败: Toast 提示 "数值超出范围"。

### 6.3 流水灯点数安装配置 (Running Light Config)
*   **视觉引导**: 顶部展示一个俯视视角的车辆模型图片。
*   **配置卡片网格**:
    *   **布局**: 2列 x 3行 (共6个区域：主驾、副驾、左前门、右前门、左后门、右后门)。
    *   **交互逻辑**:
        *   **灯珠调节**: 点击 `+`/`-` 按钮实时更新数值，并**自动发送**指令设置对应区域灯珠数。
        *   **方向切换**: 点击 Toggle 开关实时切换流水方向，并**自动发送**指令。
        *   **同步**: 界面初始化时应自动从设备读取当前配置。

### 6.4 律动模式音源 (Rhythm Source)
*   **交互逻辑**:
    *   **切换**: 点击选项卡立即发送指令切换音源 (MIC/AUX)。
    *   **状态**: 选中项背景变蓝，未选中项背景变白。

### 6.5 高级设置 (Advanced Settings)
*   **律动灵敏度**:
    *   **交互**: 拖动滑块结束后发送灵敏度指令 (1-5档)。
*   **功能关联开关**:
    *   **交互**: 点击开关立即发送对应功能的开启/关闭指令。

### 6.6 OTA 升级
*   **说明**: "在线OTA，设备原厂升级"。
*   **操作区域**:
    *   版本选择: "一键升级" (选中), "参数升级"。
    *   提示: "快速升级 (无开销)"。
    *   按钮: 右侧蓝色 "升级" 按钮 (圆角胶囊)。
*   **交互逻辑**:
    *   点击 "升级" 跳转至专门的 OTA 升级页面。

### 6.7 其他入口
*   **远程控制**: 跳转至日志调试终端页面。
*   **恢复出厂设置**:
    *   **交互**: 点击后弹出 **二次确认对话框 (Dialog)**。
    *   **确认**: 点击 "确认" 发送重置指令。
    *   **取消**: 点击 "取消" 关闭对话框。

### 6.8 总体交互规范
*   **加载状态**: 进入工厂模式时，应显示 Loading Indicator 直到设备参数 (infoUpdates) 同步完成。
*   **错误处理**: 若未连接设备，所有操作按钮应置灰或点击提示 "请先连接设备"。
